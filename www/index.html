<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no">
  <meta name="theme-color" content="#0a0514">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="format-detection" content="telephone=no">
  <title>Loading Rush</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Oxanium:wght@400;600;700;800&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Game Canvas -->
  <canvas id="game" aria-label="Loading Rush"></canvas>

  <!-- Share Canvas (hidden) -->
  <canvas id="shareCanvas" width="1080" height="1920"></canvas>

  <!-- HUD -->
  <div class="hud" aria-live="polite">
    <div class="row" id="topRow">
      <div class="pill pill-stack" id="scorePill">
        <div class="pill-label">Score</div>
        <div class="pill-value" id="scoreVal">0</div>
      </div>

      <div class="pill pill-stack" id="bestPill">
        <div class="pill-label" id="bestLabel">Best</div>
        <div class="pill-value" id="bestVal">0</div>
      </div>
    </div>

    <div class="row" style="justify-content: center;">
      <div class="score-guide">
        PERFECT +3 ‚Ä¢ GOOD +2 ‚Ä¢ OK +1<br>
        3X PERFECT = SCORE √ó3<br>
        3X GOOD = SCORE √ó2
      </div>
    </div>

    <!-- Mode Badge (visible during gameplay) -->
<div id="modeBadge" class="mode-badge" hidden>
  üèÜ DAILY CHALLENGE
</div>


    <div class="center" id="centerText">
      <img id="logo" class="logo" src="logo.png" alt="Loading Rush" loading="eager">
      <div class="big" id="bigText">
        <span class="title-stack">
          <span class="title-loading">LOADING</span>
          <span class="title-rush">RUSH</span>
        </span>
      </div>
      
      <!-- Mode Selector (visible on menu) -->
      <div id="modeSelector" class="mode-selector">
        <button id="normalModeBtn" class="mode-btn mode-btn-normal">
          <div class="mode-btn-icon">‚ö°</div>
          <div class="mode-btn-label">Arcade Mode</div>
        </button>
        
        <button id="dailyModeBtn" class="mode-btn mode-btn-daily">
          <div class="mode-btn-header">
            <div class="mode-btn-icon">üèÜ</div>
            <div class="mode-btn-label">Daily Challenge</div>
          </div>
          <div class="mode-btn-info">
            <div class="daily-info-row">
              <span>Score at least: <strong id="dailyGoalDisplay">0</strong></span>
              <span>Best Today: <strong id="dailyBestDisplay">0</strong></span>
            </div>
            <div class="daily-reset">
              New challenge in: <span id="dailyResetDisplay">--:--:--</span> (UTC)
            </div>
          </div>
        </button>
      </div>
    </div>

    <div id="howto" class="howto">
      <div class="howto-title">How to Play</div>
      <div class="howto-body">
        Tap when
        <span class="icon-tri">
          <svg viewBox="0 0 32 44" aria-hidden="true">
            <path d="M16 42 L2 6 H30 Z"/>
          </svg>
        </span>
        is in the center of the gap. Closer = More Points!
      </div>
    </div>
  </div>

  <!-- Slow Motion Badge -->
  <div id="slowBadge" class="slow-badge">
    Activate Slow Motion
  </div>

  <!-- End Modal -->
  <div id="endModal" class="modal" aria-hidden="true">
    <div class="modal-overlay" data-close="modal"></div>
    <div class="modal-card">
      <div class="modal-header">
        <div class="stat">
          <div class="label">Score</div>
          <div class="value" id="modalScore">0</div>
        </div>
        <div class="stat">
          <div class="label" id="modalBestLabel">Best</div>
          <div class="value" id="modalBest">
            0 <span id="newBestChip" class="chip" hidden>New Best!</span>
          </div>
        </div>
      </div>

      <!-- Daily Goal Status (only shown in Daily mode) -->
      <div id="dailyGoalStatus" class="daily-goal-status" hidden>
        <div class="goal-status-text" id="goalStatusText">
          Score at least: 0 ‚Äî NOT REACHED
        </div>
        <div class="goal-reset-text">
          New challenge in <span id="modalResetDisplay">--:--:--</span> (UTC)
        </div>
      </div>

      <div class="modal-actions">
        <button id="modalPrimary" class="btn btn-primary">
          Play again + bonus
        </button>
        <div id="modalPrimarySub" class="subline">
          Watch a short ad for +10s Slow Motion next game
        </div>

        <div class="modal-actions-row">
          <button id="modalSecondary" class="btn btn-secondary">
            Play again (No Bonus)
          </button>
          <button id="modalShare" class="btn btn-secondary btn-icon">
            Share Score
          </button>
        </div>
      </div>

      <div class="modal-patreon">
        <div class="patreon-hook">
          JOIN OUR DISCORD ‚Ä¢ COMPARE YOUR SCORE
        </div>
        <a href="https://www.patreon.com/gaminute" class="patreon-cta" target="_blank" rel="noopener">
          UNLOCK DISCORD ACCESS ‚Ä¢ $1/MO
        </a>
        <div class="patreon-micro">
          Via Patreon ‚Ä¢ Cancel anytime ‚Ä¢ Support an indie dev
        </div>
      </div>

      <!-- Back to Menu Link -->
      <div class="modal-back">
        <a href="#" id="backToMenuLink" class="back-link">‚Üê Back to Menu</a>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="game.js"></script>
</body>
</html>